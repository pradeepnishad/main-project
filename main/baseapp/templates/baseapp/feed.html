{% extends "baseapp/home.html" %}
{% load static %}
{% block feedloader %}
<div class="feedLoader">
    <div class="storyLoader story">
        <div class="circle">
            <img src="{% static 'images/post1.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle">
            <img src="{% static 'images/post2.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle">
            <img src="{% static 'images/post3.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle">
            <img src="{% static 'images/post4.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle-1">
            <img src="{% static 'images/post5.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle-1">
            <img src="{% static 'images/post6.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle-1">
            <img src="{% static 'images/post7.jpeg' %}" style="width: 100%;">
        </div>
        <div class="circle-1">
            <img src="{% static 'images/post8.jpeg' %}" style="width: 100%;">
        </div>
    </div>
    <div class="scrollable-div">
        <div class="height">
            {% for post in all_posts %}
            <div class="post-box">
                <div class="head">
                    <div class="username">
                        <h5 style="color: white; margin-left: 5px;">{{ post.user.username }}</h5>
                    </div>
                    <div><i class="fa-solid fa-ellipsis-vertical"></i></div>
                </div>
                <div class="pic">
                    <img style="width: 50%;" src="{{ post.upload.url}}" alt="">
                </div>
                <div class="like-box">
                    <div class="like-com">
                        <span><a href="/like?post_id={{post.id}}"><i class="fa-solid fa-heart like"></i></span></a>
                        
                        
                        
                    </div>
                    <div class="save">
                        <a href="{{ post.upload.url}}" download><i class="fa-solid fa-bookmark"></i></a>
                    </div>
                </div>
                <div class="captions">
                    {% if post.no_of_likes == 0 %}
                    <p>No likes</p>
                    {% elif post.no_of_likes == 1 %}
                    <p>Liked by {{post.no_of_likes}} person</p>
                    {% else %}
                    <p>Liked by {{post.no_of_likes}} people</p>
                    {% endif %}
                    <strong style="color: white;">{{post.title}}</strong><br>
                    <p>{{post.caption}}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<script>
    const likeIcon = document.querySelector('.like');
    likeIcon.addEventListener('click', function () {
        likeIcon.classList.toggle('fas'); // Toggle between solid and regular heart
    });
</script>

<style>
    .like {
        color: #ff0000;
    }



    .scrollable-div {
        width: 100%;
        height: 85vh;
        overflow-y: auto;
        margin-top: 3vh;
    }

    .scrollable-div::-webkit-scrollbar {
        width: 3px;
        /* Width of the scrollbar */
    }

    .scrollable-div::-webkit-scrollbar-track {
        background-color: rgb(29, 29, 29);
        /* Track color */
    }

    .scrollable-div::-webkit-scrollbar-thumb {
        background: #616161;
        /* Thumb color */

    }

    .scrollable-div::-webkit-scrollbar-thumb:hover {
        background: #555;
        /* Thumb color on hover */
    }

    .height {
        width: 100%;
        height: auto;
        background-color: #61616153;
        display: flex;
        flex-direction: column;
        align-items: center;

    }


    .story {
        padding: 10px;
        display: flex;
        gap: 20px;
        z-index: 999;
    }

    .circle {
        width: 70px;
        height: 100%;
    }

    .circle img {
        border-radius: 50%;
        border: 4px solid rgb(255, 81, 0);
    }

    .circle-1 {
        width: 70px;
        height: 100%;
    }

    .circle-1 img {
        border-radius: 50%;
    }

    .post-box {
        width: 95%;
        height: auto;
        background-color: rgba(0, 0, 0, 0.268);
        margin-top: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 10px;
    }

    .like-box {
        width: 100%;
        height: 72px;
        overflow-y: auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .save {
        margin-right: 20px;
    }

    i {
        color: white;
        font-size: 30px;
    }

    .captions {
        width: 100%;

        padding: 10px;
    }

    .captions p {
        font-size: 16px;
        color: white;
    }

    .fa-heart:hover {
        color: rgb(255, 255, 255);
    }

    .fa-comment:hover {
        color: rgb(62, 62, 255);
    }

    .fa-share:hover {
        color: aquamarine;
    }

    .fa-bookmark:hover {
        color: rgb(204, 255, 248);
    }

    .head {
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .head i {
        margin-right: 10px;
        margin-top: 5px;
        margin-bottom: 10px;
    }

    .pic {
        width: 100%;
        background-color: rgba(0, 0, 0, 0.705);
        display: flex;
        justify-content: center;
        border-radius: 10px;
    }
</style>
{% endblock feedloader %}